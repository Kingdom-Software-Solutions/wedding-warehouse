# Host URL
https://wedding-warehouse.herokuapp.com/

# DEPARTMENTS(DEPT)
- Every item in the inventory is created with a department id that is selected by the admin user (SuperUser).

###  CREATE A DEPT
HTTP Request: POST

URL: /api/departments

##### Body
| Name        | Type    | Required  | Description                                             |
| ----------- | ------- | --------- | ------------------------------------------------------  |
| ID          | Number  | No        | Dept ID, generated by DB                                |
| Name        | String  | Yes       | Dept name, must be unique                               |

##### Example
```javascript
{
	"name": "My New Dept"
}
```

#### Response
##### 201 (Created)
> Will receive a 201 response with the newly created user if registration is successful
```javascript
{
    "message": "Department successfully added!",
    "dept": {
        "id": 2,
        "name": "My New Dept"
    }
}
```

##### 500 (Internal Server Error)
> Will receive a 500 response if there is a problem with the server. Likely a SQL error or bad json format.
```javascript
{
    "error": {
        "errno": 1,
        "code": "SQLITE_ERROR"
    },
    "errorMessage": "Oof, something went wrong on our end"
}
```

###  GET ALL DEPTS
HTTP Request: GET

URL: /api/departments

#### Response
##### 200 (OK)
> Will receive a 200 response with an array of departments in the database if the request is successful
```javascript
[
    {
        "id": 1,
        "name": "First Dept"
    },
    {
        "id": 2,
        "name": "testing new dept"
    },
    {
        "id": 3,
        "name": "Another Dept"
    }
]
```

###  GET DEPT BY ID
HTTP Request: GET

URL: /api/departments/:id

#### Response
##### 200 (OK)
> Will receive a 200 response with an object of the department in the database if the request is successful
```javascript
{
    "id": 1,
    "name": "First Dept"
}
```
##### 404 (Not Found)
> Will receive a 400 response if required information is missing from the body
```javascript
{
    "message": "Department with the id of ${id} was not found"
}
```

###  GET DEPT BY NAME
HTTP Request: POST

URL: /api/departments/name

#### Response
##### 200 (OK)
> Will receive a 200 response with a JSON object of the department if the request is successful
```javascript
{
    "id": 1,
    "name": "First Dept"
}
```
##### 404 (Not Found)
> Will receive a 400 response if required information is missing from the body
```javascript
{
    "message": "Department with the name of ${This Dept Doesn't Exist} was not found"
}
```
### UPDATE DEPT NAME
HTTP Request: PUT

URL: /api/departments/:id

##### Body
| Name        | Type    | Required  | Description                                             |
| ----------- | ------- | --------- | ------------------------------------------------------  |
| ID          | Number  | No        | Dept ID, generated by DB                                |
| Name        | String  | Yes       | Dept name, must be unique                               |

##### Example
```javascript
{
	"name": "Updated Dept Name"
}
```

#### Response
##### 200 (OK)
> Will receive a 200 response with the updated department object if the request is successful
```javascript
{
    "id": 3,
    "name": "Updated Dept Name"
}
```

##### 404 (Not Found)
> Will receive a 404 response if parameter ID is invalid
```javascript
{
  "message": "Dept with the id of ${id} was not found"
}
```
##### 500 (Internal Server Error)
> Will receive a 500 response if there is a problem with the server



*** ***
### DELETE A DEPT
HTTP Request: DELETE

URL: /api/departments/:id

#### Response
##### 200 (OK)
```javascript
{
    "message": "Department successfull deleted! ðŸ˜¬"
}

```

##### 404 (Not Found)
> Will receive a 404 response if parameter ID is invalid
```javascript
{
  "message": "User with the id of ${id} was not found"
}
```

##### 500 (Internal Server Error)
> Will receive a 500 response if there is a problem with the server
```javascript
{
    "message": "Department with the id of 3 was not found"
}
```

# INVENTORY
- Endpoints for inventory items. Created by the admin (SuperUser)

###  CREATE AN ITEM
> Name column uses camel case
HTTP Request: POST

URL: /api/inventory

##### Body
| Name         | Type    | Required  | Description                                                |
| ------------ | ------- | --------- | ---------------------------------------------------------  |
| ID           | Number  | No        | Item ID, generated by DB                                   |
| Item Name    | String  | Yes       | Item name, must be unique                                  |
| Description  | String  | No        | Item description                                           |
| Rental Rate  | Number  | No        | Rental rate per day of the item                            |
| Buy Now      | Number  | No        | Sale price for the item. Optional for the admin to include |
| Main Img URL | String  | No        | Primary image of the item                                  |
| Thumbnail URL| String  | No        | Thumbnail version of the primary image                     |
| Quantity     | Number  | No        | Number of units for the item                               |
| Customizable | Boolean | No        | Denotes the item as customizable or not, defaults to false |
| Available    | Boolean | No        | Item available on the site, defaults to true               |
| Department ID| Number  | Yes       | Foreign key to the item's department                       |

##### Example
```javascript
{
	"itemName":"test",
	"description":"test description",
	"departmentId": 1
}
```

#### Response
##### 201 (Created)
> Will receive a 201 response with the newly created item if successful
```javascript
{
    "message": "Item successfully added to DB!",
    "newItem": {
        "id": 6,
        "itemName": "test",
        "description": "test description",
        "rentalRate": null,
        "buyNow": null,
        "mainImgUrl": null,
        "thumbnailUrl": null,
        "quantity": null,
        "isCustomizable": 0,
        "isAvailable": 1,
        "departmentId": 1
    }
}
```

##### 400 (Missing Department Id)
> Will receive a 400 response if body is missing a department ID
```javascript
{
    "error": "Missing departmentId"
}
```

##### 500 (Internal Server Error)
> Will receive a 500 response if there is a problem with the server. Likely a SQL error or bad json format.
```javascript
{
    "error": {
        "errno": 1,
        "code": "SQLITE_ERROR"
    },
    "errorMessage": "Oof, something went wrong on our end"
}
```

###  GET ALL ITEMS
HTTP Request: GET

URL: /api/inventory

#### Response
##### 200 (OK)
> Will receive a 200 response with an array of items in the database if the request is successful
```javascript
[
    {
        "id": 1,
        "itemName": "Updated item here",
        "description": "New item was updated",
        "rentalRate": 20,
        "buyNow": 300,
        "mainImgUrl": "https://res.cloudinary.com/kss-image-cloud/image/upload/v1595024000/wedding-warehouse-local/v3zljechd1hqnagciexw.jpg",
        "thumbnailUrl": "https://res.cloudinary.com/kss-image-cloud/image/upload/c_limit,h_60,w_90/v1595024000/wedding-warehouse-local/v3zljechd1hqnagciexw.jpg",
        "quantity": null,
        "isCustomizable": 0,
        "isAvailable": 1,
        "departmentId": 1
    },
    {
        "id": 2,
        "itemName": "Edit just title",
        "description": "EDITED",
        "rentalRate": 40,
        "buyNow": null,
        "mainImgUrl": "https://res.cloudinary.com/kss-image-cloud/image/upload/v1595028897/wedding-warehouse-local/afmxshw8khhozr82iy13.jpg",
        "thumbnailUrl": "https://res.cloudinary.com/kss-image-cloud/image/upload/c_limit,h_60,w_90/v1595028897/wedding-warehouse-local/afmxshw8khhozr82iy13.jpg",
        "quantity": null,
        "isCustomizable": 0,
        "isAvailable": 1,
        "departmentId": 1
    },
    {
        "id": 5,
        "itemName": "Test isCustom",
        "description": "testing new feature",
        "rentalRate": 67,
        "buyNow": 100,
        "mainImgUrl": "",
        "thumbnailUrl": "",
        "quantity": 5,
        "isCustomizable": 1,
        "isAvailable": 1,
        "departmentId": 1
    },
    {
        "id": 6,
        "itemName": "test",
        "description": "test description",
        "rentalRate": null,
        "buyNow": null,
        "mainImgUrl": null,
        "thumbnailUrl": null,
        "quantity": null,
        "isCustomizable": 0,
        "isAvailable": 1,
        "departmentId": 1
    }
]
```

###  GET ITEM BY ID
HTTP Request: GET

URL: /api/inventory/:id

#### Response
##### 200 (OK)
> Will receive a 200 response with an object of the iventory in the database if the request is successful
```javascript
{
    "id": 1,
    "itemName": "Updated item here",
    "description": "New item was updated",
    "rentalRate": 20,
    "buyNow": 300,
    "mainImgUrl": "https://res.cloudinary.com/kss-image-cloud/image/upload/v1595024000/wedding-warehouse-local/v3zljechd1hqnagciexw.jpg",
    "thumbnailUrl": "https://res.cloudinary.com/kss-image-cloud/image/upload/c_limit,h_60,w_90/v1595024000/wedding-warehouse-local/v3zljechd1hqnagciexw.jpg",
    "quantity": null,
    "isCustomizable": 0,
    "isAvailable": 1,
    "departmentId": 1
}
```
##### 404 (Not Found)
> Will receive a 400 response if required information is missing from the body
```javascript
{
    "message": "Item with the id of ${id} was not found"
}
```

### UPDATE ITEM
HTTP Request: PUT

URL: /api/inventory/:id

##### Body
> You can update the entire body or do a partial update with this PUT. You don't need to send the entire body.

| Name         | Type    | Required  | Description                                                |
| ------------ | ------- | --------- | ---------------------------------------------------------  |
| ID           | Number  | No        | Item ID, generated by DB                                   |
| Item Name    | String  | Yes       | Item name, must be unique                                  |
| Description  | String  | No        | Item description                                           |
| Rental Rate  | Number  | No        | Rental rate per day of the item                            |
| Buy Now      | Number  | No        | Sale price for the item. Optional for the admin to include |
| Main Img URL | String  | No        | Primary image of the item                                  |
| Thumbnail URL| String  | No        | Thumbnail version of the primary image                     |
| Quantity     | Number  | No        | Number of units for the item                               |
| Customizable | Boolean | No        | Denotes the item as customizable or not, defaults to false |
| Available    | Boolean | No        | Item available on the site, defaults to true               |
| Department ID| Number  | Yes       | Foreign key to the item's department                       |

##### Example (FULL BODY)
```javascript
{
    "id": 1,
    "itemName": "Updated EXAMPLE",
    "description": "I updated this item as an example for documentation",
    "rentalRate": 40,
    "buyNow": 3000,
    "mainImgUrl": "https://res.cloudinary.com/kss-image-cloud/image/upload/v1595024000/wedding-warehouse-local/v3zljechd1hqnagciexw.jpg",
    "thumbnailUrl": "https://res.cloudinary.com/kss-image-cloud/image/upload/c_limit,h_60,w_90/v1595024000/wedding-warehouse-local/v3zljechd1hqnagciexw.jpg",
    "quantity": null,
    "isCustomizable": 1,
    "isAvailable": 1,
    "departmentId": 1
}
```

##### Example (PARTIAL BODY)
```javascript
{
    "itemName": "Partial Update EXAMPLE"
}
```

#### Response
##### 200 (OK) (FULL BODY)
> Will receive a 200 response with the updated department object if the request is successful
```javascript
{
    "message": "Item succsessfully updated!",
    "updated": {
        "id": 1,
        "itemName": "Updated EXAMPLE",
        "description": "I updated this item as an example for documentation",
        "rentalRate": 40,
        "buyNow": 3000,
        "mainImgUrl": "https://res.cloudinary.com/kss-image-cloud/image/upload/v1595024000/wedding-warehouse-local/v3zljechd1hqnagciexw.jpg",
        "thumbnailUrl": "https://res.cloudinary.com/kss-image-cloud/image/upload/c_limit,h_60,w_90/v1595024000/wedding-warehouse-local/v3zljechd1hqnagciexw.jpg",
        "quantity": null,
        "isCustomizable": 1,
        "isAvailable": 1,
        "departmentId": 1
    }
}
```

#### Response
##### 200 (OK) (PARTIAL BODY)
> Will receive a 200 response with the updated department object if the request is successful
```javascript
{
    "message": "Item succsessfully updated!",
    "updated": {
        "id": 1,
        "itemName": "Updated EXAMPLE",
        "description": "I updated this item as an example for documentation",
        "rentalRate": 40,
        "buyNow": 3000,
        "mainImgUrl": "https://res.cloudinary.com/kss-image-cloud/image/upload/v1595024000/wedding-warehouse-local/v3zljechd1hqnagciexw.jpg",
        "thumbnailUrl": "https://res.cloudinary.com/kss-image-cloud/image/upload/c_limit,h_60,w_90/v1595024000/wedding-warehouse-local/v3zljechd1hqnagciexw.jpg",
        "quantity": null,
        "isCustomizable": 1,
        "isAvailable": 1,
        "departmentId": 1
    }
}
```

##### 404 (Not Found)
> Will receive a 404 response if parameter ID is invalid
```javascript
{
  "message": "Item with the id of ${id} was not found"
}
```
##### 500 (Internal Server Error)
> Will receive a 500 response if there is a problem with the server


### DELETE A ITEM
HTTP Request: DELETE

URL: /api/inventory/:id

#### Response
##### 200 (OK)
```javascript
{
    "message": "Item successfull deleted! ðŸ˜¬"
}
```

# RESERVATIONS

###  CREATE A RESERVATION
> Done at checkout on the frontend

> Name column uses camel case

HTTP Request: POST

URL: /api/reservations

##### Body
| Name               | Type    | Required  | Description                                                 |
| ------------------ | ------- | --------- | ----------------------------------------------------------  |
| ID                 | Number  | No        | Reservation ID, generated by DB                             |
| Rent Date          | Date    | Yes       | Rent start date                                             |
| Return Date        | Date    | Yes       | Return date                                                 |
| Returned           | Boolean | No        | Return status of items , defaults to false                  |
| Renter First Name  | String  | Yes       | First name of the user renting                              |
| Renter Last Name   | String  | Yes       | Last name of the user renting                               |
| Renter Email       | String  | Yes       | Email of the user renting                                   |
| Status             | String  | No        | Cancelation status of the reservation, defaults to "active" |
| Items              | Array   | Yes       | List of items that the user is reserving                    |




##### Example
```javascript
{
	"renterFirstName": "Jericho",
	"renterLastName": "Drumm",
	"renterEmail":"brothervoodoo@marvel.com",
	"rentDate": "11/15/2020",
	"returnDate": "11/17/2020",
	"items": [{
		"id": 1,
		"itemName": "Partial Update EXAMPLE",
		"description": "I updated this item as an example for documentation",
		"rentalRate": 40,
		"buyNow": 3000,
		"mainImgUrl": "https://res.cloudinary.com/kss-image-cloud/image/upload/v1595024000/wedding-warehouse-local/v3zljechd1hqnagciexw.jpg",
		"thumbnailUrl": "https://res.cloudinary.com/kss-image-cloud/image/upload/c_limit,h_60,w_90/v1595024000/wedding-warehouse-local/v3zljechd1hqnagciexw.jpg",
		"quantity": null,
		"isCustomizable": 1,
		"isAvailable": 1,
		"departmentId": 1
	}]
 }
```

#### Response
##### 201 (Created)
> Will receive a 201 response with the newly created user if reservation is successful
```javascript
{
    "message": "Reservation successful!",
    "reservation": {
        "id": 9,
        "rentStart": "11/15/2020",
        "returnDate": "11/17/2020",
        "returned": 0,
        "renterFirstName": "Jericho",
        "renterLastName": "Drumm",
        "renterEmail": "brothervoodoo@marvel.com",
        "status": "active"
    }
}
```

##### 400 (Bad Request)
> Will recieve a 400 response if given bad data like an item id that doesnt' exist. This endpoint takes the items in the cart and ties them to the reservation using that item's id. See the example of the response below.

```javascript
{
    "message": "Error connecting items to reservation. Please review your items array for accuracy:",
    "items": [
        {
            "id": 10008744,
            "itemName": "Partial Update EXAMPLE",
            "description": "I updated this item as an example for documentation",
            "rentalRate": 40,
            "buyNow": 3000,
            "mainImgUrl": "https://res.cloudinary.com/kss-image-cloud/image/upload/v1595024000/wedding-warehouse-local/v3zljechd1hqnagciexw.jpg",
            "thumbnailUrl": "https://res.cloudinary.com/kss-image-cloud/image/upload/c_limit,h_60,w_90/v1595024000/wedding-warehouse-local/v3zljechd1hqnagciexw.jpg",
            "quantity": null,
            "isCustomizable": 1,
            "isAvailable": 1,
            "departmentId": 1
        }
    ]
}
```
##### 500 (Internal Server Error)
> Will receive a 500 response if there is a problem with the server.

###  GET ALL RESERVATIONS BY DATE RANGE
> Returns an array of item ids that are reserved in this date range
HTTP Request: POST

URL: /api/reservations/availability/all


##### Body
| Name         | Type    | Required  | Description                                                |
| ------------ | ------- | --------- | ---------------------------------------------------------  |
| Rent Date    | Date    | Yes       | Start date                                                 |
| Return Date  | Date    | Yes       | Return date                                                |

#### Example
```javascript
{
	"rentDate": "2020-10-01",
	"returnDate": "2020-10-15"
}
```

#### Response
##### 200 (OK)
> Will receive a 200 response with a list of reservations id's if the request is successful
```javascript
[
    2,
    5
]
```
